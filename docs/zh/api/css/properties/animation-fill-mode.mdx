import { Go } from '@lynx';

# animation-fill-mode

## 介绍

`animation-fill-mode` 设置 CSS 动画在执行之前和之后如何将样式应用于其目标

## 使用示例

<Go
  example="css-api"
  img="/assets/doc/css/animation-fill-mode.gif"
  defaultEntryFile="dist/animation-fill-mode.lynx.bundle"
  entry="src/animation-fill-mode"
  defaultFile="src/animation-fill-mode/App.tsx"
  entry="src/animation-fill-mode"
/>

## 语法

```css
/* Single animation */
animation-fill-mode: none;
animation-fill-mode: forwards;
animation-fill-mode: backwards;
animation-fill-mode: both;

/* Multiple animations */
animation-fill-mode: none, backwards;
animation-fill-mode: both, forwards, none;
```

### 取值

#### none

当动画未执行时，动画将不会将任何样式应用于目标，而是已经赋予给该元素的 CSS 规则来显示该元素。这是默认值。

#### forwards

动画结束时将最后一个关键帧的值设置给 View。最后一个关键帧取决于 [animation-direction](./animation-direction.mdx) 和 [animation-iteration-count](./animation-iteration-count.mdx) 的值：

| animation-direction | animation-iteration-count | last keyframe encountered |
| ------------------- | ------------------------- | ------------------------- |
| normal              | even or odd               | 100% or to                |
| reverse             | even or odd               | 0% or from                |
| alternate           | even                      | 0% or from                |
| alternate           | odd                       | 100% or to                |
| alternate-reverse   | even                      | 100% or to                |
| alternate-reverse   | odd                       | 0% or from                |

#### backwards

动画开始时将第一个关键帧的值设置给 View。第一个关键帧取决于 [animation-direction](./animation-direction.mdx) 和 [animation-iteration-count](./animation-iteration-count.mdx) 的值：

| animation-direction          | first relevant keyframe |
| ---------------------------- | ----------------------- |
| normal or alternate          | 0% or from              |
| reverse or alternate-reverse | 100% or to              |

#### both

动画将遵循 forwards 和 backwards 的规则，从而在动画开始与结束时将相应关键帧设置给 View。

## 形式定义

import { PropertyDefinition } from '@/components/PropertyDefinition';

<PropertyDefinition
  initialValue={<>none</>}
  appliesTo={<>all elements</>}
  inherited="no"
  animatable="no"
/>

## 形式语法

```css
/*none*/
animation-fill-mode: none | forwards | backwards | both;
```

## 扩展阅读

- [animation](./animation.mdx)
- [animation-name](./animation-name.mdx)
- [animation-duration](./animation-duration.mdx)
- [animation-timing-function](./animation-timing-function.mdx)
- [animation-delay](./animation-delay.mdx)
- [animation-iteration-count](./animation-iteration-count.mdx)
- [animation-direction](./animation-direction.mdx)
- [animation-fill-mode](./animation-fill-mode.mdx)
- [animation-play-state](./animation-play-state.mdx)
- [CSS animation event](../../lynx-api/event/animation-event.mdx)
- [Animated API](../../lynx-api/lynx/lynx-animate-api.mdx)

## 兼容性

import { LegacyCompatTable } from '@lynx';

<LegacyCompatTable metadata="css/properties/animation-fill-mode" />
