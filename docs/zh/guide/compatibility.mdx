import { Columns, Mermaid } from '@lynx';

# å…¼å®¹æ€§

æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ç¡®ä¿ [Bundle] å’Œ [Lynx Engine] ä¹‹é—´çš„ç‰ˆæœ¬å…¼å®¹æ€§ï¼Œä»¥åŠå¦‚ä½•åº”å¯¹ Lynx Engine ç‰ˆæœ¬æ¼”è¿›å¸¦æ¥çš„æŒ‘æˆ˜ã€‚

## ä»æºç æ„å»º

ä¸€ç§ç®€å•çš„ä¿è¯å…¼å®¹æ€§çš„æ–¹æ³•æ˜¯ï¼Œ**æ°¸è¿œåŒæ—¶ä»æºç æ„å»º Bundle å’Œå®¿ä¸»åº”ç”¨**ã€‚

- Bundle å¯ä»¥å……åˆ†åˆ©ç”¨å½“å‰ Lynx Engine ç‰ˆæœ¬çš„æ‰€æœ‰ç‰¹æ€§
- åœ¨å¼€å‘é˜¶æ®µå°±èƒ½å®Œå…¨ç¡®ä¿å…¼å®¹æ€§ï¼Œæ‰€è§å³æ‰€å¾—

## å¤šç‰ˆæœ¬å…¼å®¹

ä½†æ˜¯åœ¨ä¸€ä¸ªå¤æ‚çš„å·¥ç¨‹ä¸­ï¼ŒBundle å’Œ Lynx Engine ä¹‹é—´å¹¶éä¸€ä¸€å¯¹åº”çš„å…³ç³»

- ä¸€ä¸ª Bundle å¯èƒ½è¿è¡Œåœ¨å¤šä¸ªå«æœ‰ä¸åŒç‰ˆæœ¬ Lynx Engine çš„åº”ç”¨ä¸­

- ä¸€ä¸ªåº”ç”¨ä¸­ä¹Ÿå¯ä»¥è¿è¡Œå¤šä¸ªç”±ä¸åŒå›¢é˜Ÿç»´æŠ¤çš„ Bundle

æ­¤æ—¶ï¼Œéœ€è¦ä¸º Bundle è®¾ç½®**å¼•æ“ç‰ˆæœ¬**ï¼ˆ[`engineVersion`]ï¼‰æ¥ä¿è¯å…¼å®¹æ€§

:::info å¼•æ“ç‰ˆæœ¬

å½“ Bundle çš„å¼•æ“ç‰ˆæœ¬å¤§äº Lynx Engine ç‰ˆæœ¬æ—¶ï¼Œå°†æ— æ³•è¿è¡Œ

:::

ä¾‹å¦‚ï¼šä¸€ä¸ª [`engineVersion`] ä¸º 3.3 çš„ Bundle å¯ä»¥åœ¨ Lynx Engine 3.3 åŠä»¥åçš„ç‰ˆæœ¬ä¸Šè¿è¡Œï¼Œä½†ä¸èƒ½åœ¨ 3.2 ä¸Šè¿è¡Œã€‚

<Mermaid title="ç‰ˆæœ¬å…¼å®¹æ€§ç¤ºæ„å›¾">
  {`
graph TB
    subgraph Bundle["ğŸ¯ Bundle"]
        B10["å¼•æ“ç‰ˆæœ¬ 3.3"]
    end
    subgraph Engine["âš™ï¸ Lynx Engine"]
        E12["Version 3.5"]
        E11["Version 3.4"]
        E10["Version 3.3"]
        E09["Version 3.2"]
    end
    B10 -.->|âŒ ä¸æ”¯æŒ| E09
    B10 ==>|âœ… å¯è¿è¡Œ| E10
    B10 ==>|âœ… å¯è¿è¡Œ| E11
    B10 ==>|âœ… å¯è¿è¡Œ| E12
    %% èŠ‚ç‚¹æ ·å¼
    style E12 fill:#2b5a83,stroke:#4a90e2,stroke-width:3px,rx:10px
    style E11 fill:#2b5a83,stroke:#4a90e2,stroke-width:3px,rx:10px
    style E10 fill:#2b5a83,stroke:#4a90e2,stroke-width:3px,rx:10px
    style E09 fill:#2b5a83,stroke:#4a90e2,stroke-width:2px,rx:10px,stroke-dasharray:5,5
    style B10 fill:#2d5a1e,stroke:#7ed321,stroke-width:3px,rx:10px
    %% å­å›¾æ ·å¼
    style Bundle fill:transparent,stroke:#7ed321,stroke-width:2px,rx:10px
    style Engine fill:transparent,stroke:#4a90e2,stroke-width:2px,rx:10px
    %% é»˜è®¤æ ·å¼
    classDef default fill:#23272f,color:#ccc,font-family:system-ui
    %% è¿æ¥çº¿æ ‡ç­¾æ ·å¼
    linkStyle default stroke-width:2px
`}
</Mermaid>

åœ¨ä¸€ä¸ª Bundle å¯¹åº”å¤šä¸ª Lynx Engine ç‰ˆæœ¬çš„æƒ…å†µä¸‹ï¼Œè¯¥ Bundle çš„ [`engineVersion`] å¿…é¡»å°äºæ‰€æœ‰ Lynx Engine çš„ç‰ˆæœ¬ã€‚

åœ¨ä¸€ä¸ª Lynx Engine ç‰ˆæœ¬ä¸Šè¿è¡Œå¤šä¸ª Bundle çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸ª Bundle éƒ½å¯ä»¥è®¾ç½®ä¸åŒçš„ [`engineVersion`]ï¼Œä½†æ˜¯éƒ½ä¸èƒ½å¤§äº Lynx Engine çš„ç‰ˆæœ¬

### ç‰ˆæœ¬ä¸å…¼å®¹å¤„ç†

å½“ Bundle å°è¯•åœ¨ä¸€ä¸ªè¾ƒä½ç‰ˆæœ¬çš„ Lynx Engine ä¸Šè¿è¡Œæ—¶ï¼Œç³»ç»Ÿä¼šæŠ›å‡ºé”™è¯¯ç ä¸º [10204](/api/errors/error-code.mdx#subcode-10204) çš„ Fatal çº§åˆ«é”™è¯¯ï¼Œå¹¶åœæ­¢æ¸²æŸ“æµç¨‹ã€‚è¿™ç§æœºåˆ¶å¯ä»¥é˜²æ­¢ä¸å…¼å®¹ç‰ˆæœ¬å¯¼è‡´çš„æ½œåœ¨è¿è¡Œæ—¶é—®é¢˜ã€‚

### è®¾ç½®å¼•æ“ç‰ˆæœ¬

[`engineVersion`] æ˜¯ä¸€ä¸ªå«æœ‰ä¸¤ä½ç‰ˆæœ¬å·çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šï¼š

```js title="lynx.config.js"
import { defineConfig } from '@lynx-js/rspeedy';
import { pluginReactLynx } from '@lynx-js/react-rsbuild-plugin';

export default defineConfig({
  plugins: [
    pluginReactLynx({
      engineVersion: '3.2',
    }),
  ],
});
```

## å‡çº§ Lynx Engine

Lynx Engine çš„è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œä¼šæœ‰æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¼šæœ‰åºŸå¼ƒåŠŸèƒ½ï¼Œå®ƒä»¬çš„å…¼å®¹æ€§ä¹Ÿç”± [`engineVersion`] æ¥ä¿è¯ã€‚

### æ–°å¢åŠŸèƒ½

ä¸€äº›æ–°å¢åŠŸèƒ½**_ä¸ä¼š_**å¯¹å·²æœ‰çš„ Bundle äº§ç”Ÿå½±å“ï¼Œä½†å¦‚æœ [`engineVersion`] å°äºå…¶è¢«å¼•å…¥çš„ç‰ˆæœ¬ï¼Œåˆ™éœ€è¦åœ¨è¿è¡Œæ—¶è¿›è¡Œåˆ¤æ–­ï¼Œä¾‹å¦‚ï¼š

```js
// Detect if `lynx.newlyAddedMethod` can be called
if (lynx.newlyAddedMethod) {
  lynx.newlyAddedMethod();
}
```

è€Œä¸€äº›æ–°å¢åŠŸèƒ½å®Œå…¨æ— æ³•è¿è¡Œåœ¨ä½ç‰ˆæœ¬çš„ Lynx Engine ä¸­ï¼Œå› æ­¤å®ƒä»¬åªæœ‰åœ¨ [`engineVersion`] å¤§äºæˆ–ç­‰äºå¯¹åº”ç‰ˆæœ¬æ—¶æ‰ä¼šè¢«å¯ç”¨ã€‚

### åºŸå¼ƒåŠŸèƒ½

ä¸€äº›åŠŸèƒ½ä¹Ÿå¯èƒ½åœ¨è¿­ä»£çš„è¿‡ç¨‹ä¸­è¢«åºŸå¼ƒï¼Œä»–ä»¬çš„è¡Œä¸ºå¯èƒ½åœ¨è®¾ç½®äº†æ›´é«˜çš„ [`engineVersion`] åå‘ç”Ÿæ”¹å˜ã€‚

- å¦‚æœåªå‡çº§ Lynx Engine çš„ç‰ˆæœ¬ï¼Œä¸å‡çº§ Bundle çš„ [`engineVersion`]ï¼Œé‚£ä¹ˆä¸ä¼šæœ‰å…¼å®¹æ€§é—®é¢˜äº§ç”Ÿ
- å¦‚æœåŒæ—¶å‡çº§äº† Lynx Engine å’Œ Bundle çš„ [`engineVersion`]ï¼Œéœ€è¦é˜…è¯» CHANGELOG æ¥ç¡®ä¿æ²¡æœ‰äº§ç”Ÿé¢„æœŸå¤–çš„è¡Œä¸ºå˜æ›´

## å…¼å®¹æ€§è¡¨æ ¼

Lynx ä¸ºæ¯ä¸ª APIã€å†…ç½®å…ƒä»¶åŠ CSS å±æ€§éƒ½æä¾›äº†å…¼å®¹æ€§è¡¨æ ¼ï¼Œä»¥ [`gap`](/api/css/properties/gap) å±æ€§ä¸ºä¾‹ï¼š

import { LegacyCompatTable } from '@lynx';

<LegacyCompatTable metadata="css/properties/gap" />

[Bundle]: guide/spec#app-bundle-aka-template-bundle
[Lynx Engine]: guide/spec#engine
[`engineVersion`]: api/rspeedy/react-rsbuild-plugin.pluginreactlynxoptions.targetsdkversion
