import { Go, Details } from '@lynx';
import { Columns } from '@/components/Columns.jsx';

# Understanding Layout

Lynx provides:

- Properties such as [`width`], [`height`], [`margin`], and [`padding`] are used to describe the size of elements.
- The [`display`] property, along with [linear layout], [flexible box layout], [grid layout], and [relative layout], are used for laying out elements.
- The aligning properties, including [`align-items`], [`justify-content`] and etc., are used for aligning elements.
- The [`position`] property, along with [`left`], [`right`], [`top`], [`bottom`] properties, are used to position elements.
- [`direction`] and [logical properties] are used to support the internationalization of layouts.

For the layout properties supported by Lynx with the same name in the Web, the behavior of these properties will be consistent with those in the Web.
However, there is a difference in the design concept between Lynx layout and Web layout: Web layout is primarily text-based. While Lynx layout is based on elements (`<view>`, `<text>`, `<image>`, etc.). In other words, elements in Lynx are all [block-level elements](https://developer.mozilla.org/en/docs/Glossary/Block-level_content).

The following tutorial will show you how to complete the layout of elements in Lynx.

## Sizing the Elements

You can use [`width`], [`height`], [`max-width`], [`min-width`], [`max-height`], [`min-height`], [`margin`], [`padding`], and [`border-width`] to describe the size and box model of an element. These properties support various [length units] such as `px`, `%`, `vh` and etc. Additionally, [`width`] and [`height`] support [`max-content`] and [`fit-content`] for sizing elements according to their content.

<Go
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/doc/sizing.png"
  example="layout"
  defaultEntryFile="dist/sizing.lynx.bundle"
  defaultFile="src/sizing/index.tsx"
  entry="src/sizing"
/>

<Details title={<span><code>box-sizing</code> is <code>border-box</code> by default and Lynx does not exhibit the behavior of margin collapsing.</span>}>
By default, the size properties of Lynx, such as [`width`], [`height`], and [`max-width`], describe the size of the border box. This is inconsistent with the default behavior of the Web.

Lynx does not exhibit the behavior of [margin collapsing](https://developer.mozilla.org/en/docs/Web/CSS/CSS_box_model/Mastering_margin_collapsing) as in the Web.

</Details>

## Layout the Elements

The [`<view>`] element can be used for laying out child elements, and by setting the [`display`] property on the [`<view>`] element, you can control the way it lays out its child elements. The display property supports five values: `linear`, `flex`, `grid`, `relative` and `none`.

### Linear Layout

If you want to simply arrange the elements in order, you can set the [`display`] property to linear and use Lynx's default layout, which is the [linear layout]. The [linear layout] (inspired by Android's [Linear Layout](https://developer.android.com/develop/ui/views/layout/linear)) can arrange the elements in order according to the direction you declare.

<Go
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/doc/layout/linear.png"
  example="layout"
  defaultEntryFile="dist/linear.lynx.bundle"
  defaultFile="src/linear/index.tsx"
  entry="src/linear"
/>

### Flexible Box Layout

If you need to make the size of child elements adapt to the space of the parent element (such as expanding child elements to fill the unused space or shrinking child elements to avoid overflow), you can set the [`display`] property to `flex` and use the [flexible box layout]. [flexible box layout] in Lynx is consistent with the one in Web.

<Go
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/doc/layout/flex.png"
  example="layout"
  defaultEntryFile="dist/flex.lynx.bundle"
  defaultFile="src/flex/index.tsx"
  entry="src/flex"
/>

### Grid Layout

If you want to arrange multiple elements alternately in both vertical and horizontal directions to form a two-dimensional layout, you can set the [`display`] property to `grid` and use the [grid layout]. [grid layout] is a layout in the Web that can divide the space into a two-dimensional grid and place elements in the specified rows and columns. Lynx supports a subset of its features.

<Go
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/doc/layout/layout_grid.png"
  example="layout"
  defaultEntryFile="dist/grid.lynx.bundle"
  defaultFile="src/grid/index.tsx"
  entry="src/grid"
/>

### Relative Layout

If you want to describe the layout through the relative position relationship between elements, you can set the [`display`] property to `relative` and use the [relative layout]. The [relative layout](inspired by Android's [Relative Layout](https://developer.android.com/develop/ui/views/layout/relative)) can declare the layout by describing the position relationship between elements (for example, one element is located to the left of another element).

<Go
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/doc/layout/layout_relative_demo.png"
  example="layout"
  defaultEntryFile="dist/relative.lynx.bundle"
  defaultFile="src/relative_layout/index.tsx"
  entry="src/relative_layout"
/>

### Text and Inline Layout

In Lynx, text cannot be directly inserted into the [`<view>`] element, and the [`display`] property of Lynx does not support the values of `inline` and `block`. The [`<text>`] element can complete text display and the inline layout of elements. For details, please refer to [Text Typography](guide/styling/text-and-typography.mdx).

## Aligning the Elements

You can align the elements laid out by a [`<view>`] with [`align-items`], [`align-self`], [`justify-content`], [`align-content`], [`justify-items`] and [`justify-self`] properties.

<Go
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/doc/layout/align.png"
  example="layout"
  defaultEntryFile="dist/align.lynx.bundle"
  defaultFile="src/align/index.tsx"
  entry="src/align"
  highlight="{10,13,18,29}"
/>

## Offseting and Absolute Positioning

You can offset the elements with [`top`], [`left`], [`bottom`], and [`right`] properties. And you can make elements absolutely positioned with [`position`] property.

<Go
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/doc/layout/position.png"
  example="layout"
  defaultEntryFile="dist/position.lynx.bundle"
  defaultFile="src/position/index.tsx"
  entry="src/position"
  highlight="{12,26-28,43}"
/>

## Internationalization

You can use the [`direction`] property and [logical properties] to make your page support both languages written from left to right (such as Chinese) and languages written from right to left (such as Arabic).
[logical properties] refer to a series of properties like `XX-inline-start` and `XX-inline-end` (such as [`inset-inline-start`]).

<Go
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/doc/direction.png"
  example="layout"
  defaultEntryFile="dist/direction.lynx.bundle"
  defaultFile="src/direction/index.tsx"
  entry="src/direction"
/>

<Details
  title={
    <span>
      By default, CSS in Lynx is not inheritable! Need additional steps to make{' '}
      <code>direction</code> inheritable.
    </span>
  }
>
  The CSS properties of Lynx are not inheritable by default. If you want the
  [`direction`] to be inheritable, please refer to [CSS
  Inheritance](guide/styling/custom-theming#how-to-enable-css-inheritance)
</Details>

[`width`]: api/css/properties/width.mdx
[`height`]: api/css/properties/height.mdx
[`min-width`]: api/css/properties/min-width.mdx
[`min-height`]: api/css/properties/min-height.mdx
[`max-width`]: api/css/properties/max-width.mdx
[`max-height`]: api/css/properties/max-height.mdx
[`flex-grow`]: api/css/properties/flex-grow.mdx
[`flex-shrink`]: api/css/properties/flex-shrink.mdx
[`direction`]: api/css/properties/direction.mdx
[`display`]: api/css/properties/display.mdx
[`margin`]: api/css/properties/margin.mdx
[`padding`]: api/css/properties/padding.mdx
[`position`]: api/css/properties/position.mdx
[`border-width`]: api/css/properties/border-width.mdx
[`inset-inline-start`]: api/css/properties/inset-inline-start.mdx
[`top`]: api/css/properties/top.mdx
[`bottom`]: api/css/properties/bottom.mdx
[`max-content`]: api/css/data-type/max-content.mdx
[`fit-content`]: api/css/data-type/fit-content.mdx
[`justify-self`]: api/css/properties/justify-self.mdx
[`justify-items`]: api/css/properties/justify-items.mdx
[`align-self`]: api/css/properties/align-self.mdx
[`align-content`]: api/css/properties/align-content.mdx
[`justify-content`]: api/css/properties/justify-content.mdx
[`align-items`]: api/css/properties/align-items.mdx
[`left`]: api/css/properties/left.mdx
[`right`]: api/css/properties/right.mdx
[`<view>`]: api/elements/built-in/view.mdx
[`<text>`]: api/elements/built-in/text.mdx
[length units]: api/css/data-type/length-percentage.mdx
[linear layout]: guide/ui/layout/linear-layout.mdx
[relative layout]: guide/ui/layout/relative-layout.mdx
[flexible box layout]: guide/ui/layout/flexible-box-layout.mdx
[grid layout]: guide/ui/layout/grid-layout.mdx
[logical properties]: https://developer.mozilla.org/en/docs/Web/CSS/CSS_logical_properties_and_values
