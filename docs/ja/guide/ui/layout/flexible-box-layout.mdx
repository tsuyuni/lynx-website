import { Go, Details } from '@lynx';
import { Columns } from '@/components/Columns.jsx';

# Flexible Box Layout

If you need to make the size of child elements adapt to the space of the parent element (such as expanding child elements to fill the unused space or shrinking child elements to avoid overflow), you can set the [`display: flex`](api/css/properties/display.mdx) property to the parent element and use the **flexible box layout**.

::: info
For more information, please refer to the [CSS Flexible Box Layout](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_flexible_box_layout) on MDN. Lynx supports common flexible box layout properties and in most cases aligns with Web standards. For the supported properties, please refer to the [Reference section](#reference).
:::

**The following examples show typical features of the flexible box layout.**

## Typical Features

### Filling the Parent Element with `flex-grow`

The [`flex-grow`] property helps you allocate the remaining space of the parent element to the size of the sub-elements based on the weight declared by `flex-grow`.

<Go
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/doc/layout/layout_flex_grow.png"
  example="layout"
  defaultEntryFile="dist/flex_grow.lynx.bundle"
  defaultFile="src/flex_grow/index.tsx"
  entry="src/flex_grow"
/>

### Shrinking Child Elements with `flex-shrink`

When the child elements are about to overflow the parent element, the child elements can shrinked according to the weight declared by [flex-shrink](api/css/properties/flex-shrink.mdx) to fit the size of the parent element.

<Go
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/doc/layout/layout_flex_shrink.png"
  example="layout"
  defaultEntryFile="dist/flex_shrink.lynx.bundle"
  defaultFile="src/flex_shrink/index.tsx"
  entry="src/flex_shrink"
/>

<Details title={<span>Lynx differs from Web in the minimum value for shrinking sub-elements.</span>}>
Lynx currently does not support [`min-content`](https://developer.mozilla.org/en-US/docs/Web/CSS/min-content), and therefore treats it temporarily as `0px`. This means that while the Web can ensure sub-elements do not shrink below their minimum content width when fitting the parent element size, Lynx cannot guarantee this at present.

<Columns titles={['Code', 'Inconsistent behavior between Web and Lynx']}>

```html
<div
  style="width:100px;
            height:70px;
            display:flex;
            background-color:rgb(0, 235, 235);"
>
  <div
    style="display:flex;
              height:50px;
              background-color:rgb(255, 53, 26);"
  >
    <div
      style="width:150px;
                height:50px;"
    ></div>
  </div>
</div>
```

<center>
  <img width="70%" src="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/doc/layout/layout_min_content.png" />
</center>
</Columns>
</Details>

### Wrapping with `flex-wrap`

The [`flex-wrap`] property allows content that doesn't fit on a single line to be displayed on subsequent lines. This attribute specifies whether flex elements are shown in a single or multiple lines. When allowed to wrap, this attribute can control the stacking direction of the lines.

<Go
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/doc/layout/layout_flex_wrap.png"
  example="layout"
  defaultEntryFile="dist/flex_wrap.lynx.bundle"
  defaultFile="src/flex_wrap/index.tsx"
  entry="src/flex_wrap"
/>

## Reference

Currently, Lynx supports the following common flexible box layout properties:

- **CSS Properties**

  - [`flex`](api/css/properties/flex.mdx)
  - [`flex-basis`](api/css/properties/flex-basis.mdx)
  - [`flex-direction`](api/css/properties/flex-direction.mdx)
  - [`flex-flow`](api/css/properties/flex-flow.mdx)
  - [`flex-grow`](api/css/properties/flex-grow.mdx)
  - [`flex-shrink`](api/css/properties/flex-shrink.mdx)
  - [`flex-wrap`](api/css/properties/flex-wrap.mdx)
  - [`order`](api/css/properties/order.mdx)

- **Alignment Properties**

  - [`align-content`](api/css/properties/align-content.mdx)
  - [`align-items`](api/css/properties/align-items.mdx)
  - [`align-self`](api/css/properties/align-self.mdx)
  - [`justify-content`](api/css/properties/justify-content.mdx)
  - [`row-gap`](api/css/properties/row-gap)
  - [`column-gap`](api/css/properties/column-gap)
  - [`gap`](api/css/properties/gap)

For more usage details, please refer to the [CSS Flexible Box Layout](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_flexible_box_layout) on MDN.

[`flex-grow`]: api/css/properties/flex-grow.mdx
[`flex-shrink`]: api/css/properties/flex-shrink.mdx
[`flex-wrap`]: api/css/properties/flex-wrap.mdx
