import { Go } from '@lynx';

# Intersection Observer

The intersection observer provides a method to observe the intersection status between the target node and the reference node and between the target node and the ancestor node. When the intersection status changes, the corresponding callback is triggered.

Developers can observe the changes in the intersection status between the target node and the reference node through the following three steps:

1. Call [`lynx.createIntersectionObserver`](../../../api/lynx-api/lynx/lynx-create-intersection-observer.mdx) to create an [`IntersectionObserver`](../../../api/lynx-api/intersection-observer.mdx) object and specify the threshold list of intersection status changes.
2. Call the [`relativeTo`](../../../api/lynx-api/intersection-observer.mdx) method of the [`IntersectionObserver`](../../../api/lynx-api/intersection-observer/intersection-observer-relative-to.mdx) object to specify the reference node.
3. Call the [`observe`](../../../api/lynx-api/intersection-observer.mdx) method of the [`IntersectionObserver`](../../../api/lynx-api/intersection-observer.mdx) object to specify the target node and callback.
4. Call the [`disconnect`](../../../api/lynx-api/intersection-observer.mdx) method of the [`IntersectionObserver`](../../../api/lynx-api/intersection-observer/intersection-observer-disconnect.mdx) object to clear the target node and callback.

In the following example, the developer monitors whether the parent node and the child node intersect, and outputs the intersecting child node [`id`](../../../api/elements/built-in/view.mdx#id) and the intersection position when they intersect.

<Go
  example="event"
  defaultFile="src/visibility_intersection/index.tsx"
  defaultEntryFile="dist/visibility_intersection.lynx.bundle"
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/doc/event/visibility_intersection.gif"
  highlight="{8-24}"
  entry="src/visibility_intersection"
/>

For the specific syntax of the intersection observer, please refer to [`IntersectionObserver`](../../../api/lynx-api/intersection-observer.mdx).
